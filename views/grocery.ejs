<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('partials/head') %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="/css/grocery.css?v=<%= Date.now() %>" />
  </head>

  <body>
    <%- include('partials/navbar') %>
    <div id="error-alert" class="error-alert hidden">
      <span id="error-message"></span>
      <button id="dismissError" class="close-error">&times;</button>
    </div>
    <div class="grocery-page">
      
      <div class="grocery-header-row">
        <h1 class="grocery-title"><%= title %></h1>
        <a href="/grocery-history" class="history-btn">
          <i class="fas fa-clock"></i> View History
        </a>
      </div>

      
      <div class="date-generate-row">
        <div class="date-generate-card">
          <div class="date-field">
            <label for="startDate">Start Date:</label>
            <input type="date" id="startDate"/>
          </div>
          <div class="date-field">
            <label for="endDate">End Date:</label>
            <input type="date" id="endDate"/>
          </div>
          <button id="generate-list-btn" class="generate-btn">Generate</button>
        </div>
      </div>

     
      <div id="grocery-list-container" class="grocery-list-section">
      </div>
    </div>

    <%- include('partials/groceryListEditModal') %>
    
    <div id="overwriteModal" class="modal hidden">
      <div class="modal-content">
        <h4 id="overwriteModalTitle">Grocery List Exists</h4>
        <p id="overwriteModalText">A grocery list already exists for the selected dates.<br>Do you want to overwrite it?</p>
        <div class="modal-buttons">
          <button id="confirmOverwriteBtn">Yes, Overwrite</button>
          <button onclick="closeOverwriteModal()">Cancel</button>
        </div>
      </div>
    </div>
    
    <script src="/js/groceryList.js"></script>
    <%- include('partials/scripts') %>
    <script src="/js/groceryListEditModal.js"></script>
  </body>
</html>