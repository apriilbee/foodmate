<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head') %>
  <link rel="stylesheet" href="/css/grocery-history.css" />
  <link rel="stylesheet" href="/css/grocery.css" />
  <body>
    <%- include('partials/navbar') %>
    <div class="container">
      <div id="alertBox" class="alert-box hidden">
        <span id="alertMessage">Placeholder</span>
        <button class="close-alert" onclick="closeAlert()">Ã—</button>
      </div>
      <div class="row">
        <div class="col s12 m3">
          <h5>My Lists:</h5>
          <ul class="gh-list-container">
            <% lists?.forEach(item => { %>
              <li 
                class="gh-list-item"
                data-grocery-list-id="<%= item.id %>" 
                data-startdate="<%= item.startDate %>" 
                data-enddate="<%= item.endDate%>">
                <%= item.startDate %> - <%= item.endDate%>
              </li>
            <% }) %>
          </ul>
          
          <h5>Shared With Me:</h5>
          <ul class="gh-list-container">
            <% collabs?.forEach(item => { %>
              <li 
                class="gh-list-item"
                data-grocery-list-id="<%= item.id %>" 
                data-startdate="<%= item.startDate %>" 
                data-enddate="<%= item.endDate%>">
                <%= item.startDate %> - <%= item.endDate%>
              </li>
            <% }) %>
          </ul>
        </div>

        <div class="col s12 m6">
          <h5>Grocery List</h5>
          <div class="row">
            <div class="col s12 m6" id="grocery-details-dates"></div>
            <div class="col s12 m6" id="share-btn-container"></div>
          </div>
          <div id="grocery-details-dates"></div>
          <div id="grocery-details">Select a list to view details</div>
        </div>

        <div class="col s12 m3">
          <h5>Logs</h5>
          <div id="log-details">Activity logs will show here</div>
          <div id="log-container" class="log-list"></div>
        </div>
      </div>
    </div>
    <%- include('partials/groceryListEditModal') %>
    <%- include('partials/groceryListShareModal') %>
    <%- include('partials/scripts') %>

      <script src="/js/groceryListHistory.js"></script>
      <script src="/js/groceryListEditModal.js"></script>
      <script src="/js/groceryListShareModal.js"></script>
  </body>
</html>