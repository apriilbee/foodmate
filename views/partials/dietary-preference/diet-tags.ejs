<div class="diet-tags">
    <!-- Static diet tags -->
    <% const dietTags = [ "Vegan", "Vegetarian", "Dairy-Free", "Gluten-Free", "Pescatarian", "Low-Carb / Keto",
    "High-Protein", "Low-Fat", "Sugar-Free", "Nut-Free", "Soy-Free", "Low-Sodium", "Whole30", "Paleo", "Mediterranean",
    "No Red Meat", "Low Sugar", "Low Calorie", "Plant-Based" ]; %> <% dietTags.forEach(tag => { %>
    <div class="tag"><%= tag %></div>
    <% }); %>

    <!-- Allergy Tag w/ Dropdown -->
    <% const isAllergyActive = allergyOptions.some(a => userPreferences.allergies.includes(a)); %>
    <div
        class="allergy-tag <%= isAllergyActive ? 'active' : '' %>"
        id="allergy-dropdown-trigger"
        style="position: relative; cursor: pointer"
    >
        Allergies
        <i class="material-icons" style="font-size: 18px; vertical-align: middle">arrow_drop_down</i>

        <!-- Dropdown Menu -->
        <div
            id="allergy-dropdown"
            class="allergy-dropdown z-depth-1"
            style="
                display: none;
                background: white;
                padding: 10px;
                position: absolute;
                top: 30px;
                left: 0;
                z-index: 10;
                width: 200px;
                border-radius: 8px;
            "
        >
            <% allergyOptions.forEach(allergy => { %>
            <p>
                <label>
                    <input type="checkbox" class="filled-in " name="allergies" value="<%= allergy %>" <%=
                    userPreferences.allergies.includes(allergy) ? "checked" : "" %> />
                    <span><%= allergy %></span>
                </label>
            </p>
            <% }); %>
        </div>
    </div>
</div>
